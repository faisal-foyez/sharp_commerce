@import "../foundation/all";

$avatar-size: (
  tiny: (
    height: 1.25rem, 
    width: 1.25rem, 
    borderWidth: 1px,
    circle:(
      topStatusTop: -4px, 
      topStatusRight: -4px, 
      bottomStatusBottom: -2px, 
      bottomStatusRight: -3px,
    ),
    square:(
      topStatusTop: -5px, 
      topStatusRight: -5px, 
      bottomStatusBottom: -3px, 
      bottomStatusRight: -3px,
    ),
    borderRadius: $radius-xsm,
    letterFontSize: 11px,
    letterFontWeight: 600,
    logoHeight: 15px,
    logoWidth: 15px,
    notificationNumberHeight: 12px,
    notificationNumberWidth: 20px,
    notificationNumberXPadding: 2px,
    notificationNumberFontSize: 8px,
    notificationNumberFontWeight: 600,
    notificationNumberBorderWidth: 1px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 8px,
    topStatusLogoWidth: 8px,
    topStatusLogoBorderWidth: .5px,
  ), // 20px
  xsmall: (
    height: 1.5rem, 
    width: 1.5rem,
    borderWidth: 1px, 
    circle:(
      topStatusTop: -4px, 
      topStatusRight: -3px, 
      bottomStatusBottom: -1px, 
      bottomStatusRight: -2px,
    ),
    square:(
      topStatusTop: -6px, 
      topStatusRight: -6px, 
      bottomStatusBottom: -3px, 
      bottomStatusRight: -2px,
    ),
    borderRadius: $radius-xsm,
    letterFontSize: 11px,
    letterFontWeight: 600,
    logoHeight: 18px,
    logoWidth: 18px,
    notificationNumberHeight: 12px,
    notificationNumberWidth: 20px,
    notificationNumberXPadding: 2px,
    notificationNumberFontSize: 8px,
    notificationNumberFontWeight: 600,
    notificationNumberBorderWidth: 1px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 8px,
    topStatusLogoWidth: 8px,
    topStatusLogoBorderWidth: .7px,
  ), // 24px
  small: (
    height: 2rem, 
    width: 2rem, 
    borderWidth: 2px,
    circle:(
      topStatusTop: -3px, 
      topStatusRight: -2px, 
      bottomStatusBottom: 1px, 
      bottomStatusRight: -1px,
    ),
    square:(
      topStatusTop: -6px, 
      topStatusRight: -4px, 
      bottomStatusBottom: -1px, 
      bottomStatusRight: -2px,
    ),
    borderRadius: $radius-sm,
    letterFontSize: 12px,
    letterFontWeight: 600,
    logoHeight: 20px,
    logoWidth: 20px,
    notificationNumberHeight: 12px,
    notificationNumberWidth: 20px,
    notificationNumberXPadding: 3.5px,
    notificationNumberFontSize: 8px,
    notificationNumberFontWeight: 600,
    notificationNumberBorderWidth: 1px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 8px,
    topStatusLogoWidth: 8px,
    topStatusLogoBorderWidth: .9px,
  ), // 32px
  medium: (
    height: 2.5rem, 
    width: 2.5rem, 
    borderWidth: 2px,
    circle:(
      topStatusTop: -3px, 
      topStatusRight: -4px, 
      bottomStatusBottom: 1px, 
      bottomStatusRight: -1px,
    ),
    square:(
      topStatusTop: -6px, 
      topStatusRight: -6px, 
      bottomStatusBottom: -2px, 
      bottomStatusRight: -3px,
    ),
    borderRadius: $radius-md,
    letterFontSize: $body-font-size-sm,
    letterFontWeight: 700,
    logoHeight: 24px,
    logoWidth: 24px,
    notificationNumberHeight: 14px,
    notificationNumberWidth: 23px,
    notificationNumberXPadding: 3px,
    notificationNumberFontSize: 10px,
    notificationNumberFontWeight: 600,
    notificationNumberBorderWidth: 1px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 10px,
    topStatusLogoWidth: 10px,
    topStatusLogoBorderWidth: 1px,
  ), // 40px
  large: (
    height: 3.5rem, 
    width: 3.5rem, 
    borderWidth: 3px,
    circle:(
      topStatusTop: -6px, 
      topStatusRight: -1px, 
      bottomStatusBottom: 2px, 
      bottomStatusRight: 2px,
    ),
    square:(
      topStatusTop: -7px, 
      topStatusRight: -7px, 
      bottomStatusBottom: -1px, 
      bottomStatusRight: -3px,
    ),
    borderRadius: $radius-xl,
    letterFontSize: $body-font-size-xl,
    letterFontWeight: 700,
    logoHeight: 32px,
    logoWidth: 32px,
    notificationNumberHeight: 14px,
    notificationNumberWidth: 29px,
    notificationNumberXPadding: 4px,
    notificationNumberFontSize: 11px,
    notificationNumberFontWeight: 600,
    notificationNumberBorderWidth: 1px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 12px,
    topStatusLogoWidth: 12px,
    topStatusLogoBorderWidth: 1.5px,
  ), // 56px
  xlarge: (
    height: 4rem, 
    width: 4rem, 
    borderWidth: 3px,
    circle:(
      topStatusTop: -8px, 
      topStatusRight: -2px, 
      bottomStatusBottom: 0px, 
      bottomStatusRight: 2px,
    ),
    square:(
      topStatusTop: -8px,
      topStatusRight: -8px,
      bottomStatusBottom: -3px,
      bottomStatusRight: -4px,
    ),
    borderRadius: $radius-xl,
    letterFontSize: $h5-font-size,
    letterFontWeight: 700,
    logoHeight: 40px,
    logoWidth: 40px,
    notificationNumberHeight: 16px,
    notificationNumberWidth: 31px,
    notificationNumberXPadding: 4px,
    notificationNumberFontSize: $label-font-size-xs,
    notificationNumberFontWeight: $label-font-weight-xs-strong,
    notificationNumberBorderWidth: 2px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 14px,
    topStatusLogoWidth: 14px,
    topStatusLogoBorderWidth: 2px,
  ), // 64px
  big: (
    height: 6rem, 
    width: 6rem, 
    borderWidth: 3px,
    circle:(
      topStatusTop: -8px, 
      topStatusRight: -2px, 
      bottomStatusBottom: 5px, 
      bottomStatusRight: 2px,
    ),
    square:(
      topStatusTop: -14px, 
      topStatusRight: -12px, 
      bottomStatusBottom: -4px, 
      bottomStatusRight: -4px,
    ),
    borderRadius: $radius-2xl,
    letterFontSize: $h3-font-size,
    letterFontWeight: 700,
    logoHeight: 60px,
    logoWidth: 60px,
    notificationNumberHeight: 20px,
    notificationNumberWidth: 35px,
    notificationNumberXPadding: 4px,
    notificationNumberFontSize: $label-font-size-sm,
    notificationNumberFontWeight: $label-font-weight-sm-strong,
    notificationNumberBorderWidth: 2.5px,
    notificationNumberBorderRadius: $radius-full-round,
    topStatusLogoHeight: 20px,
    topStatusLogoWidth: 20px,
    topStatusLogoBorderWidth: 2.5px,
  ), // 96px
);

$avatar-top-status-size: (
  tiny:(height: 0.875rem, width: 0.875rem), //14px
  xsmall:(height: 0.875rem, width: 0.875rem), //14px
  small: (height: 0.875rem, width: 0.875rem), // 14px
  medium: (height: 1.125rem, width: 1.125rem), // 18px
  large: (height: 1.375rem, width: 1.375rem), // 22px
  xlarge: (height: 1.625rem, width: 1.625rem), // 26px
  big: (height: 2.125rem, width: 2.125rem), // 34px
);

$avatar-bottom-status-size: (
  tiny: (height: 0.625rem, width: 0.625rem), // 10px
  xsmall: (height: 0.625rem, width: 0.625rem), // 10px
  small: (height: 0.625rem, width: 0.625rem), // 10px
  medium: (height: 0.75rem, width: 0.75rem), // 12px
  large: (height: 0.875rem, width: 0.875rem), // 14px
  xlarge: (height: 1rem, width: 1rem), // 16px
  big: (height: 1.375rem, width: 1.375rem), // 22px
);

$avatar-bg-color: (
  white: $background-base-white,
  lightGray: $background-neutral-soft-surface,
  blue: $background-brand-soft-surface,
  yellow: $background-warning-soft-surface,
  green: $background-success-soft-surface,
  red: $background-error-soft-surface,
  fuchsia: $other-color-fuchsia-xlight,
  purple: $other-color-purple-xlight,
  cyan: $other-color-cyan-xlight,
  pink: $other-color-pink-xlight,
  sky: $other-color-sky-xlight,
  lightGradient01: $global-gradient-2color-1-light,
  lightGradient02: $global-gradient-2color-18-light,
  strongGradient01: $global-gradient-2color-1,
  strongGradient02: $global-gradient-2color-2,
  strongGradient03: $global-gradient-2color-18,
  strongGradient04: $global-gradient-2color-4,
  strongGradient05: $global-gradient-2color-17,
);

$dark-avatar-bg-color: (
  white: $dark-background-base-white,
  lightGray: $dark-background-neutral-soft-surface,
  blue: $dark-background-brand-soft-surface,
  yellow: $dark-background-warning-soft-surface,
  green: $dark-background-success-soft-surface,
  red: $dark-background-error-soft-surface,
  fuchsia: $dark-other-color-fuchsia-xlight,
  purple: $dark-other-color-purple-xlight,
  cyan: $dark-other-color-cyan-xlight,
  pink: $dark-other-color-pink-xlight,
  sky: $dark-other-color-sky-xlight,
  lightGradient01: $global-gradient-2color-1-light,
  lightGradient02: $global-gradient-2color-18-light,
  strongGradient01: $global-gradient-2color-1,
  strongGradient02: $global-gradient-2color-2,
  strongGradient03: $global-gradient-2color-18,
  strongGradient04: $global-gradient-2color-4,
  strongGradient05: $global-gradient-2color-17,
);

@each $color_key, $color_value in $avatar-bg-color {
  .avatar-bg-color-#{$color_key} {
    background: $color_value;
  }
}

@each $dark_color_key, $dark_color_value in $dark-avatar-bg-color {
  @include dark-mode {
    .avatar-bg-color-#{$dark_color_key} {
      background: $dark_color_value;
    }
  }
}

$avatar-shape: (
  circle: (border-radius: $radius-full-round),
  square: (border-radius: $radius-xl),
);


@each $size, $value in $avatar-size {
  .avatar-#{$size} {
    height: map-get($value, 'height');
    width: map-get($value, 'width');
    border-radius: map-get($value, 'borderRadius');
    // border: map-get($value, 'borderWidth') solid $dark-border-base-white;
  }

  .avatar-#{$size} .avatar-top-status-logo svg{
    height: map-get($value, 'topStatusLogoHeight');
    width: map-get($value, 'topStatusLogoWidth');
  }

  .avatar-#{$size} .avatar-top-status-logo {
    height: 100%;
    width: 100%;
    border-radius: $radius-full-round;
    background-color: $other-color-cyan-xlight; 
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .avatar-#{$size} .avatar-top-status-icon-container:has(.avatar-top-status-logo){
    border: map-get($value, 'topStatusLogoBorderWidth') solid $border-base-white;
    border-radius: $radius-full-round;
  }

  @include dark-mode {
    .avatar-#{$size} .avatar-top-status-icon-container:has(.avatar-top-status-logo){
      border: map-get($value, 'topStatusLogoBorderWidth') solid $dark-border-base-white;
    }
  }
  
  .avatar-border-#{$size}{
    border: map-get($value, 'borderWidth') solid $border-base-white;
  }

  @include dark-mode {
    .avatar-border-#{$size}{
      border: map-get($value, 'borderWidth') solid $dark-border-base-white;
    }
  }

  .avatar-#{$size} > .avatar-letter-of-name{
    font-size: map-get($value, 'letterFontSize');
    font-weight: map-get($value, 'letterFontWeight');
    // width: 100%;  
    // height: 100%;
    // display: flex;
    // align-items: center;
    // justify-content: center;
  }

  .avatar-#{$size} > img{
    border-radius: map-get($value, 'borderRadius');
    height: map-get($value, 'height');
    width: map-get($value, 'width');
  }

  .avatar-#{$size} > .avatar-logo > .package_logo{
    height: map-get($value, 'logoHeight');
    width: map-get($value, 'logoWidth');
    align-self: center;
  }

  // .avatar-#{$size} > .avatar-letter-of-name{
  //   width: 100%;  
  //   height: 100%;
  //   display: flex;
  //   align-items: center;
  //   justify-content: center;
  // }

  .avatar-#{$size} > .avatar-top-status-icon-container > .avatar-top-status-notification-number{
    min-height: map-get($value, 'notificationNumberHeight');
    min-width: map-get($value, 'notificationNumberWidth');
    font-size: map-get($value, 'notificationNumberFontSize');
    font-weight: map-get($value, 'notificationNumberFontWeight');
    padding-left: map-get($value, 'notificationNumberXPadding');
    padding-right: map-get($value, 'notificationNumberXPadding');
    border: map-get($value, 'notificationNumberBorderWidth') solid $border-base-white;
    border-radius: map-get($value, 'notificationNumberBorderRadius');
    background-color: $background-error-default;
    color: $foreground-light-primary-inverted;
    display: flex;
    align-items: center;
    justify-content: center;
  }


  @each $key, $_s in $avatar-shape {
    .avatar-#{$size}.avatar-#{$key} > .avatar-top-status-icon-container{
      top: map-get($value, $key, 'topStatusTop') !important;
      right: map-get($value, $key, 'topStatusRight') !important;
    }

    .avatar-#{$size}.avatar-#{$key} > .avatar-bottom-status-icon-container{
      bottom: map-get($value, $key, 'bottomStatusBottom') !important;
      right: map-get($value, $key, 'bottomStatusRight') !important;
    }
  }
}

// @each $shape, $value in $avatar-shape {
//   .avatar-#{$shape} {
//     border-radius: map-get($value, 'border-radius');
//   }
// }

@include dark-mode {
  .avatar-top-status-icon-container > .avatar-top-status-notification-number{
    border-color: $dark-border-base-white;
  }
}

@each $size, $value in $avatar-top-status-size {
  .avatar-top-status-icon-container-#{$size} {
    height: map-get($value, 'height');
    width: map-get($value, 'width');
  }
}

@each $size, $value in $avatar-bottom-status-size {
  .avatar-bottom-status-icon-container-#{$size} {
    height: map-get($value, 'height');
    width: map-get($value, 'width');
  }
}



.avatar-container{
  position: relative;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

.avatar-container > *:has(.package_logo_placeholder){
  align-self: flex-end;
  display: flex;
  position: absolute;
  top: 55%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.avatar-container > .avatar-logo{
  align-self: center;
}

.avatar-circle{
  border-radius: $radius-full-round;
}

.avatar-circle > img{
  border-radius: $radius-full-round;
}

.avatar-circle > *:has(.package_logo_placeholder){
  border-radius: $radius-full-round;
  overflow: hidden;
}

.avatar-top-status-icon-container{
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.avatar-top-status-icon-container > svg{
  height: 100%;
  width: 100%;
}

.avatar-top-status-icon-container > svg  .border-circle,
.avatar-bottom-status-icon-container > svg  .border-circle{
  stroke: $background-base-white;
  fill: $background-base-white;
}

@include dark-mode {
  .avatar-top-status-icon-container > svg  .border-circle,
  .avatar-bottom-status-icon-container > svg  .border-circle{
    stroke: $dark-background-base-white;
    fill: $dark-background-base-white;
  }
}

.avatar-bottom-status-icon-container{
  position: absolute;
  // display: flex;
  // align-items: center;
  // justify-content: center;
  z-index: 200;
}

.avatar-bottom-status-icon-container > svg{
  height: 100%;
  width: 100%;
}

.avatar-letter-of-name{
  align-self: center;
  text-transform: uppercase;
  color: $action-foreground-base-white;
}

@include dark-mode {
  .avatar-letter-of-name{
    color: $dark-action-foreground-base-white;
  }
}

.package_logo_placeholder > path{
  fill: $background-base-white;
}

@include dark-mode {
  .package_logo_placeholder > path{
    fill: $dark-background-base-white;
  }
}